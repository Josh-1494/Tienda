<!DOCTYPE html>

<html
    xmlns:th="http://www.thymeleaf.org"
    xmlns="http://www.w3.org/1999/xhtml"
    >

    <head>
        <title>TechShop</title>
        <meta charset="UTF-8">
            <link href="/css/menu.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>

        <header th:replace="layout/plantilla :: header" class="header"/>

        <div class="contenido">

            <!-- Esta es la Segunda parte donde se explica como llamar a un ARRAY -->
            <h2>Informacion de un Clientes</h2>

            <a th:href="@{/cliente/nuevo}">Nuevo Cliente</a>
            <hr>
                <br/>    

<!-- ---------------------- Práctica #5: findByApellidos ----------------- -->
                <form th:action="@{/cliente/buscar/}">
                    <label>Buscar por Apellidos: </label>
                    <input type="text" name="apellidos"/>
                    <br/>                
                    <input type="submit" name="buscar" value="Buscar"/>
                </form>
<!-- ---------------------- Práctica #5: findByApellidos ----------------- -->


                <br/> 
                <br/>
                

                <div th:if="${clientes !=null and !clientes.empty}">
                    <table border="1">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Apellidos</th>
                                <th>Correo</th>
                                <th>Telefono</th>
                                <th>Limite</th>
                                <th>Eliminar</th>
                                <th>Modificar</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Para cada CLIENTE taer lo que hay en la lista de CLIENTES -->
                            <tr th:each="cliente : ${clientes}">
                                <td>[[${cliente.nombre}]]</td>
                                <td>[[${cliente.apellidos}]]</td>
                                <td>[[${cliente.correo}]]</td>
                                <td>[[${cliente.telefono}]]</td>
                                <td style="text-align: right">[[${#numbers.formatDecimal(cliente.credito.limite,3,2)}]]</td>
                                <td><a th:href="@{/cliente/eliminar/}+ ${cliente.idCliente}"/>Eliminar</td>
                                <td><a th:href="@{/cliente/modificar/}+ ${cliente.idCliente}"/>Modificar</td>
                                <td><a th:href="@{/cliente/buscar/}+ ${cliente.apellidos}"/>buscar</td>
                            </tr>
                        </tbody>
                    </table> 
                </div>

                <div th:if="${clientes ==null or clientes.empty}">
                    <h4>No se tienen clientes que mostrar!</h4>
                </div>
        </div>
        <footer th:replace="layout/plantilla :: footer" class="footer"/>  

    </body>
</html>
