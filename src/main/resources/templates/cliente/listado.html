<!DOCTYPE html>

<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org"
    >
    <head th:replace="layout/plantilla :: head">
        <title>TechShop</title>
        <meta charset="UTF-8">
    </head>
    <body>

        <header th:replace="layout/plantilla :: header" class="header"/>

        <div class="contenido">

            <!-- Esta es la Segunda parte donde se explica como llamar a un ARRAY -->
            <h2>[[#{cliente.titulo}]]</h2>

            <a th:href="@{/cliente/nuevo}">[[#{cliente.nuevo}]]</a>
            <hr>
                <br/>    

<!-- ---------------------- Práctica #5: findByApellidos ----------------- -->
                <form th:action="@{/cliente/buscar/}">
                    <label>[[#{cliente.buscarape}]]</label>
                    <input type="text" name="apellidos"/>
                    <br/>                
                    <input type="submit" name="buscar" value="Buscar"/>
                </form>
<!-- ---------------------- Práctica #5: findByApellidos ----------------- -->


                <br/> 
                <br/>
                

                <div th:if="${clientes !=null and !clientes.empty}">
                    <table border="1">
                        <thead>
                            <tr>
                                <th>[[#{cliente.nombre}]]</th>
                                <th>[[#{cliente.apellidos}]]</th>
                                <th>[[#{cliente.correo}]]</th>
                                <th>[[#{cliente.telefono}]]</th>
                                <th>[[#{cliente.limite}]]</th>
                                <th>[[#{accion.eliminar}]]</th>
                                <th>[[#{accion.actualizar}]]</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Para cada CLIENTE taer lo que hay en la lista de CLIENTES -->
                            <tr th:each="cliente : ${clientes}">
                                <td>[[${cliente.nombre}]]</td>
                                <td>[[${cliente.apellidos}]]</td>
                                <td>[[${cliente.correo}]]</td>
                                <td>[[${cliente.telefono}]]</td>
                                <td style="text-align: right">[[${#numbers.formatDecimal(cliente.credito.limite,3,2)}]]</td>
                                <td><a th:href="@{/cliente/eliminar/}+ ${cliente.idCliente}"/>[[#{accion.eliminar}]]</td>
                                <td><a th:href="@{/cliente/modificar/}+ ${cliente.idCliente}"/>[[#{accion.actualizar}]]</td>
                            </tr>
                        </tbody>
                    </table> 
                </div>

                <div th:if="${clientes ==null or clientes.empty}">
                    <h4>[[#{cliente.no_mostrar}]]</h4>
                </div>
        </div>
        <footer th:replace="layout/plantilla :: footer" class="footer"/>  

    </body>
</html>
